<div id="scroll-x" class="scroll-x row mx-0" *ngIf="contact_inboxes.length > 1">
  <div (click)="scroll(-100)" id="scroll-left" class="scroll-button clickable">
    <i class="fa fa-chevron-circle-left"></i>
  </div>
  <div (click)="scroll(100)" id="scroll-right" class="scroll-button clickable">
    <i class="fa fa-chevron-circle-right"></i>
  </div>
  <!-- {{contact_inboxes | json}} -->
  <div
    class="col-6 col-sm-4 col-md-3 my-4"
    *ngFor="let contact_inbox of contact_inboxes"
    [routerLink]="[actual_page + '/' + contact_inbox.id]"
    (click)="setContactInbox(contact_inbox)"
    [ngClass]="{
      clickable: view_mode !== 'edition',
      active: selected_contact_inbox?.id === contact_inbox.id
    }"
  >
    <div
      style="height: 100%; align-items: center"
      class="roundedDiv mb-3 shadow row mx-0"
      (mouseover)="contact_inbox.is_hover = true"
      (mouseleave)="contact_inbox.is_hover = false"
      [ngStyle]="{
        'background-color':
          selected_contact_inbox?.id === contact_inbox.id
            ? contact_inbox.active_background_color || '#e4e4e4'
            : contact_inbox.is_hover
            ? contact_inbox.hover_background_color || '#dddddd'
            : contact_inbox.background_color || '#ffffff',
        color: contact_inbox.font_color || '#000000',
        'font-style': contact_inbox.font_style || 'unset',
        'font-size': contact_inbox.font_size || '14px',
        'font-weight': contact_inbox.font_weight || 'normal',
        'text-align': contact_inbox.text_align || 'center'
      }"
    >
      <div class="col-12">
        {{ contact_inbox.name }}
      </div>
      <!-- <div class="col-12" *ngIf="!loading && view_mode === 'edition'">
        <span class="red" *ngIf="contact_inbox.photos.length === 0">
          This contact_inbox doesn't have photos.
        </span>
        <span *ngIf="contact_inbox.photos.length !== 0">
          {{ contact_inbox.photos.length }} photos to show.
        </span>
      </div> -->
    </div>
  </div>
</div>

<ng-template [ngIf]="loading && !display_load">
  <div
    class="d-flex justify-content-center col-12"
    style="margin-top: 10%; margin-bottom: 10%"
  >
    <div
      style="height: 120px; width: 120px; font-size: 15px; border-width: 0.45em"
      class="spinner-border text-citric"
      role="status"
    ></div>
  </div>
</ng-template>

<iframe
  *ngIf="!selected_contact_inbox?.is_v2"
  [hidden]="loading"
  (load)="finishLoad()"
  [src]="contactSafeUrl"
  style="width: 100%; height: 1100px; overflow: hidden; border-radius: 15px"
  frameBorder="0"
>
</iframe>
<app-mailing-list-view
  #mailing_list_embed
  *ngIf="selected_contact_inbox?.is_v2"
  [idOrganization]="idOrganization"
  [idMailingList]="selected_contact_inbox?.id"
></app-mailing-list-view>
<!-- <app-contact_inbox #contact_inbox_embed [idcontact_inbox]="selected_contact_inbox.id"></app-contact_inbox> -->
