<form
  *ngIf="reviewForm"
  [formGroup]="reviewForm"
  style="width: 100%"
  class="row"
>
  <div class="col-8">
    <div class="form-group">
      <label for="estimated">
        Name
        <span class="text-danger"> * </span>
      </label>
      <input
        class="form-control"
        placeholder="Optional Field Name."
        type="text"
        formControlName="name"
        required
      />
    </div>
  </div>
  <div class="col-8">
    <div class="form-group">
      <label for="estimated"> Category </label>
      <select
        class="form-control"
        formControlName="idGroupReportOptionalFieldCategory"
      >
        <option [value]="null">-- Select an option --</option>
        <option *ngFor="let category of categories" [value]="category.id">
          {{ category.name }}
        </option>
      </select>
    </div>
  </div>
  <div class="col-8">
    <div class="form-group">
      <label for="estimated"> Type <span class="text-danger"> * </span> </label>
      <select
        class="form-control"
        formControlName="input_type"
        required
        (change)="setType()"
      >
        <option [value]="null">-- Select an option --</option>
        <option *ngFor="let type of types" [value]="type.id">
          {{ type.name }}
        </option>
      </select>
    </div>
  </div>
  <div
    class="col-8"
    *ngIf="selected_type?.accepted_display_formats_items?.length > 0"
  >
    <div class="form-group">
      <label for="estimated">
        View type <span class="text-danger"> * </span>
      </label>
      <select
        class="form-control"
        formControlName="input_display_type"
        (change)="checkValue()"
      >
        <option [value]="null">-- Select an option --</option>
        <option
          *ngFor="let view_type of selected_type.accepted_display_formats_items"
          [value]="view_type.id"
        >
          {{ view_type.name }}
        </option>
      </select>
    </div>
  </div>

  <div class="col-8">
    <div class="form-group">
      <label> Description (optional) </label>
      <textarea
        class="form-control"
        placeholder="Place here the description for this optional field."
        type="text"
        formControlName="description"
      >
      </textarea>
    </div>
  </div>
</form>

<hr />

<span style="display: block; text-align: right; width: 100%" class="mb-2">
  <button
    type="button"
    *ngIf="!getPermissions()"
    class="btn btn-sm btn-muted"
    (click)="deactivateForm()"
  >
    Cancel
  </button>

  <button
    type="button"
    *ngIf="!getPermissions()"
    [disabled]="reviewForm?.invalid && !getPermissions()"
    (click)="addOptionalField()"
    class="btn btn-sm btn-success"
  >
    Save
  </button>
</span>
